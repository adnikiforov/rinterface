h2. rinterface: Ruby to Erlang client

rinterface is a pure Ruby client that can send RPC calls to an Erlang node. It's very much a work in progress.


h3. Requirements

 * Erlang 12B-5
 * Ruby
 * Ruby gems
 * Eventmachine

h3. Try it out

1. Open a terminal, Cd into the test directory and run:
   'make'
   'make run'
   this will start the erlang node named 'math'

2. Open another terminal, and run: 'ruby sample.rb'

h3. How to use?

See 'sample.rb' for an example:

<pre>
<code>
EM.run do
  # Connect to epmd to get the port of 'math'. 'math' is the -sname of the erlang node
  epmd = EpmdConnection.lookup_node("math")
  epmd.callback do |port|
    puts "got the port #{port}"
    
    # make the rpc call to 'math' on port for mod 'math_server' on fun 'add' with args
    node = Node.rpc_call("math",port.to_i,"math_server","add",[10,20])
    node.callback{ |result|
      puts "Sum is: #{result}"
      EM.stop
    }
    
    node.errback{ |err|
      puts "Error: #{err}"
      EM.stop
    }
  end
  
  epmd.errback do |err|
    puts "Error: #{err}"
    EM.stop
  end
end
</code>
</pre>